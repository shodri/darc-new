@extends('layouts.darc')
@section('content')
    <br><br>
    <main id="main">

        <!-- ======= Contact Section ======= -->
        <section id="contact" class="contact">
            <div class="container" data-aos="fade-up">

                <div class="section-title">
                    <h2>Sucursales</h2>
                    <p>Nuestras Sucursales</p>
                </div>

                <div class='row'>
                    <div class='col-md-7'><br><br>
                        <div style="overflow-y: auto; height:550px; overflow-x: hidden;">
                            <!-- Ventas Belgrano -->
                            <div class='row'>
                                <div class='col-md-12'>
                                    <h4 class="text-center"><b>Peugeot</b></h4>
                                </div>
                            </div>
                            <hr>
                            <div class='row'>
                                <div class='col-md-7'>
                                    <h4><br><b>Ventas Belgrano:</b></h4>
                                    <small>Av. Del Libertador 6388 | Belgrano | Capital Federal <br>HORARIO DE ATENCIÓN:
                                        Lunes a Viernes de 09:00 a 19:00 HS. Sábados de 10:00 a 19:00 Hs.
                                    </small>
                                </div>
                                <div class='col-md-5'>
                                    <br />
                                    <h4><a href='tel:48966900' target='_blank'><img
                                                src='https://darcpeugeot.com/_images/cnIcon_tel.jpg' width=30><b>
                                                48966900</b></a></h4>
                                    <h4><a href='https://api.whatsapp.com/send?phone=5491123409876' target='_blank'><img
                                                src='{{ asset('assets/img/cnIcon_wapp.jpg') }}' width=30><b>
                                                5491123409876</b></a></h4>
                                    <button type="button" class="btn btn-xs btn-map" data-lat="-34.55316882879628"
                                        data-lng="-58.45101867397159" data-icon="default">UBICAR EN EL MAPA</button>
                                </div>
                            </div>
                            <hr>
                            <!-- Ventas Villa Devoto -->
                            <div class='row'>
                                <div class='col-md-7'>
                                    <h4><br><b>Ventas Villa Devoto:</b></h4>
                                    <small>Av. San Martín 6800 | Villa Devoto | Capital Federal <br>HORARIO DE ATENCIÓN:
                                        Lunes a Sábado de 9:00 a 19:00 Hs.
                                    </small>
                                </div>
                                <div class='col-md-5'>
                                    <br />
                                    <h4><a href='https://api.whatsapp.com/send?phone=5491139136244' target='_blank'><img
                                                src='{{ asset('assets/img/cnIcon_wapp.jpg') }}' width=30><b>
                                                5491139136244</b></a></h4>
                                    <button type="button" class="btn btn-xs btn-map" data-lat="-34.5924133477376"
                                        data-lng="-58.50962027906619" data-icon="default">UBICAR EN EL MAPA</button>
                                </div>
                            </div>
                            <hr>
                            <!-- Citroen -->
                            <div class='row'>
                                <div class='col-md-12'>
                                    <h4 class="text-center"><b>Citroën</b></h4>
                                </div>
                            </div>
                            <hr>
                            <!-- Ventas Núñez -->
                            <div class='row'>
                                <div class='col-md-7'>
                                    <h4><br><b>Ventas Núñez:</b></h4>
                                    <small>Av. Del Libertador 6988 | Núñez | Capital Federal <br>HORARIO DE ATENCIÓN:
                                        Lunes a Sábado de 09:00 a 19:00 Hs.
                                    </small>
                                </div>
                                <div class='col-md-5'>
                                    <br />
                                    <h4><a href='https://api.whatsapp.com/send?phone=5491144725708' target='_blank'><img
                                                src='{{ asset('assets/img/cnIcon_wapp.jpg') }}' width=30><b>
                                                5491144725708</b></a></h4>
                                    <button type="button" class="btn btn-xs btn-map" data-lat="-34.54825855799231"
                                        data-lng="-58.4557349290289" data-icon="cit">UBICAR EN EL MAPA</button>
                                </div>
                            </div>
                            <hr>
                            <!-- Ventas Villa Ortúzar -->
                            <div class='row'>
                                <div class='col-md-7'>
                                    <h4><br><b>Ventas Villa Ortúzar:</b></h4>
                                    <small>Av. Triunvirato 3524 | Villa Ortúzar | Capital Federal <br>HORARIO DE ATENCIÓN:
                                        Lunes a Sábado de 09:00 a 19:00 Hs.
                                    </small>
                                </div>
                                <div class='col-md-5'>
                                    <br />
                                    <h4><a href='https://api.whatsapp.com/send?phone=5491139142955' target='_blank'><img
                                                src='{{ asset('assets/img/cnIcon_wapp.jpg') }}' width=30><b>
                                                5491139142955</b></a></h4>
                                    <button type="button" class="btn btn-xs btn-map" data-lat="-34.58266333774511"
                                        data-lng="-58.471355966147335" data-icon="cit">UBICAR EN EL MAPA</button>
                                </div>
                            </div>
                            <hr>
                            <!-- DS -->

                            <div class='row'>
                                <div class='col-md-12'>
                                    <h4 class="text-center"><b>DS</b></h4>
                                </div>
                            </div>
                            <hr>
                            <div class='row'>
                                <div class='col-md-7'>
                                    <h4><br><b>Ventas Nuñez:</b></h4>
                                    <small>Av. Del Libertador 6350 | Nuñez | Capital Federal <br>HORARIO DE ATENCIÓN:
                                        Lunes a Sábado de 09:00 a 19:00 Hs.
                                    </small>
                                </div>
                                <div class='col-md-5'>
                                    <br />
                                    <h4><a href='tel:47878888' target='_blank'><img
                                                src='https://darcpeugeot.com/_images/cnIcon_tel.jpg' width=30><b>
                                                47878888</b></a></h4>
                                    <h4><a href='https://api.whatsapp.com/send?phone=5491123271213' target='_blank'><img
                                                src='{{ asset('assets/img/cnIcon_wapp.jpg') }}' width=30><b>
                                                5491123271213</b></a></h4>
                                    <button type="button" class="btn btn-xs btn-map" data-lat="-34.553667544575575"
                                        data-lng="-58.4505705181513" data-icon="ds">UBICAR EN EL MAPA</button>
                                </div>
                            </div>
                            <hr>
                        </div>
                    </div>

                    <div class='col-md-5'><br><br>
                        <div id="map_canvas" style="width:100%; height:550px;"></div>
                    </div>
                </div>

            </div>
        </section><!-- End Contact Section -->

        <script>
            // Initialize and add the map
            function initMap() {
                // The map, centered at a default location
                var defaultLocation = {
                    lat: -34.603722,
                    lng: -58.381592
                }; // Buenos Aires
                var map = new google.maps.Map(document.getElementById("map_canvas"), {
                    zoom: 12,
                    center: defaultLocation
                });


                var locations = [{
                        lat: -34.55316882879628,
                        lng: -58.45101867397159,
                        icon: 'default',
                        title: 'Ventas Belgrano'
                    },
                    {
                        lat: -34.5924133477376,
                        lng: -58.50962027906619,
                        icon: 'default',
                        title: 'Ventas Villa Devoto'
                    },
                    {
                        lat: -34.54825855799231,
                        lng: -58.4557349290289,
                        icon: 'cit',
                        title: 'Ventas Núñez'
                    },
                    {
                        lat: -34.58266333774511,
                        lng: -58.471355966147335,
                        icon: 'cit',
                        title: 'Ventas Villa Ortúzar'
                    },
                    {
                        lat: -34.553667544575575,
                        lng: -58.4505705181513,
                        icon: 'ds',
                        title: 'Ventas Núñez (DS)'
                    }
                ];


                // Custom marker icons
                var icons = {
                    default: {
                        url: '{{ asset('assets/img/ic-map.png') }}', // Default icon URL
                        scaledSize: new google.maps.Size(40, 40),
                        origin: new google.maps.Point(0, 0),
                        anchor: new google.maps.Point(20, 40)
                    },
                    cit: {
                        url: '{{ asset('assets/img/ic-cit.png') }}', // CIT icon URL
                        scaledSize: new google.maps.Size(40, 40),
                        origin: new google.maps.Point(0, 0),
                        anchor: new google.maps.Point(20, 40)
                    },
                    ds: {
                        url: '{{ asset('assets/img/ic-ds.png') }}', // CIT icon URL
                        scaledSize: new google.maps.Size(40, 40),
                        origin: new google.maps.Point(0, 0),
                        anchor: new google.maps.Point(20, 40)
                    }
                };

                var bounds = new google.maps.LatLngBounds(); // Crear los límites del mapa
                var markers = [];
                
                locations.forEach(function(location) {
                    var marker = new google.maps.Marker({
                        position: {
                            lat: location.lat,
                            lng: location.lng
                        },
                        map: map,
                        icon: icons[location.icon],
                        title: location.title
                    });
                    markers.push(marker);
                    bounds.extend(marker.position);

                });
                // Function to add a marker
                // function addMarker(location, iconType) {
                //     return new google.maps.Marker({
                //         position: location,
                //         map: map,
                //         icon: icons[iconType]
                //     });
                // }

                map.fitBounds(bounds);

                document.querySelectorAll('.btn-map').forEach(function(button) {
                    button.addEventListener('click', function() {
                        var lat = parseFloat(this.getAttribute('data-lat'));
                        var lng = parseFloat(this.getAttribute('data-lng'));
                        map.setCenter({
                            lat: lat,
                            lng: lng
                        });
                        map.setZoom(15);
                    });
                });
            }

            // Load Google Maps script asynchronously
            function loadGoogleMaps() {
                var script = document.createElement("script");
                script.src =
                    "https://maps.googleapis.com/maps/api/js?key=AIzaSyBn52N44V1EysHEYVRASaqY2RIceOGJTaI&callback=initMap";
                script.async = true;
                document.head.appendChild(script);
            }

            // Call the function to load the map
            loadGoogleMaps();
        </script>
    @endsection
